<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cookie Consent</title>
  <script
    src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js"
    data-domain-script="019807f7-7d6f-7b77-995d-aa538b6f4aa1-test"
    type="text/javascript"
    charset="UTF-8">
  </script>
  <script>
    function sendConsentResponse(action) {
      window.parent.postMessage(
        {
          type: 'consent-response',
          action: action // 'accept' or 'reject'
        },
        '*'
      );
    }

    function OptanonWrapper() {
      // Automatically notify AMP once consent is granted
      sendConsentResponse('accept');
    }
  </script>
</head>
<body>
  <script>
    // Function to get a cookie by name
    function getCookie(name) {
      const value = `; ${document.cookie}`;
      const parts = value.split(`; ${name}=`);
      if (parts.length === 2) return parts.pop().split(';').shift();
    }

    // Check if cookie exists
    let username = getCookie("username");

    if (!username) {
      // Set cookie if not found
      document.cookie = "username=JohnDoe; path=/; max-age=86400"; // 1 day
      document.getElementById("cookie-status").textContent = "Cookie set for the first time!";
    } else {
      document.getElementById("cookie-status").textContent = `Welcome back, ${username}!`;
    }
  </script>
  <p>Loading cookie preferences...</p>
</body>
</html>
